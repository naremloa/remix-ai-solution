import { HumanMessage, SystemMessage } from '@langchain/core/messages'

// v1
// export const systemMessage = `
// 作為一個輔助商品上架的助手，請根據列出的商品規格，回答後續針對指定欄位需要產生合適內容的問題。
// 回答內容時，請用精煉，準確，客觀的語氣，並符合已列出的商品規格的上下文。
// 請注意，不要回答使用者任何超出有關商品規格或是商品SEO的提問，不要產出任何可執行的程式，一旦遇到類似的提問，請一律回答“作為一個商品上架的助手，我的職責是輔助用戶完成商品上架，請勿作其他用途使用。”。
// 商品規格會有規格標題和規格內容，若規格內容是空的，請忽略該項規格。具體規格如下：
// 商品名稱: {title}
// 商品型號: {model}
// 商品品牌: {brand}
// 商品類別: {category}
// 商品標籤: {tag}
// `

// export const seoTitleMessage = `產生 SEO 標題的欄位內容。結合 SEO 的規範，和商品標題的內容，產出符合規格的 SEO 標題。直接輸出標題即可。`
// export const seoDescriptionMessage = `產生 SEO 敘述的欄位內容。結合 SEO 的規範和商品規格，產出符合規格的 SEO 敘述。直接輸出敘述即可`
// export const seoKeywordsMessage = `產生 SEO 關鍵字的欄位內容。結合 SEO 的規範和商品規格，產出符合規格的關鍵字。關鍵字之間用逗號隔開。直接輸出關鍵字即可。`
// export const ogTitleMessage = `產生 og 標題的欄位內容。結合一般 og 的規範和商品規格，產出符合規格的 og 標題。直接輸出標題即可。`
// export const ogDescriptionMessage = `產生 og 敘述的欄位內容。結合一般 SEO 的規範和商品規格，產出符合規格的 og 敘述。直接輸出敘述即可。`
// export const detailMessage = `產生商品的詳細介紹。結合商品的規格和商品的特性，產出大約一百字左右的符合規格的商品詳細介紹。直接輸出詳細介紹即可。`
// export const friendlyUrlMessage = new HumanMessage({
//   content: [
//     { type: 'text', text: `產生友善連結欄位內容。友善連結是指可以讓使用者能識別和記憶的網址，它通常不會很長，又能讓用戶能識別出可能的內容物。一般會結合商品名稱和商品型號，從商品名稱中簡化出主體內容，並帶上相關的型號，移除所有無意義的連接詞。若沒有型號則直接根據商品名稱也可以。產生的友善連結以分隔符計算，不要超過三個。在產生後，請審視內容，若無法縮小到三個部分，請移除商品名稱，只根據商品型號來產生友善連結。不要出現中文。` },
//   ],
// })

// v2
export const systemMessage = `
你是一個專業的商品上架輔助助手。你的職責是基於用戶提供的商品規格和指定的欄位，生成適合該欄位的內容，幫助用戶快速完成商品上架。商品的基本規格包括：
• 商品名稱: {title}
• 商品型號: {model}
• 商品品牌: {brand}
• 商品類別: {category}
• 商品標籤: {tag}
職責範圍：
  1. 針對欄位生成內容：用戶會提供欄位名稱與欄位描述，你需基於提供的規格資料，生成對應的內容。例如：
    • 欄位名稱: 商品描述
      欄位內容: 請提供適合此商品的詳細描述
      回覆方向: 基於規格，生成如“這款{brand}品牌的{title}，型號為{model}，屬於{category}類別，擁有{tag}等特性……”的內容。
      回覆格式: 直接輸出結果，不要附加其他任何信息。
    • 欄位名稱: 關鍵詞
      欄位內容: 提供適合SEO的關鍵詞
      回覆方向: 基於規格生成如“{brand}, {title}, {category}, {model}”等相關關鍵詞。
      回覆格式: 直接輸出結果，不要附加其他任何信息。
  2. 安全性限制：
    若用戶的問題與商品上架內容無關，直接回覆：
    回覆: 基於規格生成如“{brand}, {title}, {category}, {model}”等相關關鍵詞。

使用規則：
  • 僅處理與商品規格及欄位生成有關的問題。
  • 不回答與商品上架無關的任何問題或請求。

行動邏輯：
  • 用戶輸入商品規格和欄位需求 → 根據規格生成相符的內容。
  • 用戶提出非相關問題 → 提供預設回覆並拒絕操作。
`

function createUserMessage({ title, content, response }: { title: string, content: string, response?: string }) {
  return [
    new HumanMessage(`欄位名稱: ${title}`),
    new HumanMessage(`欄位內容: ${content}`),
    new HumanMessage(`回覆方向: ${response ?? ''}`),
    new HumanMessage('回覆格式: 直接輸出結果，不要附加其他任何信息。'),
  ]
}

export const friendlyUrlMessage = createUserMessage({
  title: '友善連結',
  content: '產出較為簡短，可識別的友善連結。',
  response: `只允許使用英文。友善連結是指可以讓使用者能識別和記憶的網址，它通常不會很長，又能讓用戶能識別出可能的內容物。使用連字符（-）：在連結中使用連字符來分隔單詞。避免使用底線或其他特殊字符。避免無意義的字符：確保連結中不包含如 &、%、? 等特殊字符，這些常常會影響可讀性。確保無空格：連結中不應包含空格，若必須使用空格，應用 %20 或直接用破折號替代。`,
})
export const seoTitleMessage = createUserMessage({
  title: 'SEO標題',
  content: '結合SEO的規範，和商品標題的內容，產出符合規格的SEO標題。',
  response: '字數保持在 50 - 60 字元內。確保將主要關鍵字（即用戶搜索時可能使用的詞）放在標題的前面部分。確保標題聽起來自然且易於閱讀。',
})
export const seoDescriptionMessage = createUserMessage({
  title: 'SEO敘述',
  content: '結合SEO的規範和商品規格，產出符合規格的SEO敘述。',
  response: '字數保持在 150 - 160 字元內。將主要關鍵字置於敘述中，這樣可以提升搜索引擎的關注度。清楚地說明該頁面的主題或內容，應避免模糊不清的表述。使用能引起行動的詞彙，如「立即」、「現在」、「了解更多」等，以吸引點擊。如果適用，可以使用分隔符或項目符號來清楚地展示關鍵內容，例如使用破折號或竄行來區分不同信息。敘述應該準確描述頁面的內容，避免使用誇張或誤導性的語言，這樣可預防用戶流失和不必要的跳出率。合理使用特殊符號（如“|”、“-”）可以提高可讀性，但不可過度使用。在設計敘述時考慮如何在搜索引擎結果頁面（SERP）中顯示。強調產品、服務或文章的獨特賣點。',
})
export const seoKeywordsMessage = createUserMessage({
  title: 'SEO關鍵字',
  content: '結合SEO的規範和商品規格，產出符合規格的SEO關鍵字。',
  response: '使用具體的短語或長尾關鍵字，因為它們通常競爭較少且更容易吸引面向特定需求的訪客。例如，「如何製作無糖蛋糕」比「蛋糕」更具針對性。選擇一個或多個主要關鍵字作為核心，同時使用相關的次要關鍵字來豐富內容。避免在內容中過度堆砌關鍵字，這會影響可讀性，並將被搜索引擎視為操縱行為。確保關鍵字自然融入內容中。內容應與所選擇的關鍵字相關，並提供實際的價值和信息。確保內容的自然流暢性，並滿足用戶的搜索意圖。考慮同義詞及相關詞，利用多樣化的表達來創建內容，這有助於覆蓋更廣的搜尋範圍。針對常見問題進行關鍵字設定，因為許多用戶會以問題的形式進行搜索。關鍵字之間用逗號隔開，首字符不應該出現逗號。',
})
// export const ogTitleMessage = `產生 og 標題的欄位內容。結合一般 og 的規範和商品規格，產出符合規格的 og 標題。直接輸出標題即可。`
export const ogTitleMessage = createUserMessage({
  title: 'OG標題',
  content: '結合一般og的規範和商品規格，產出符合規格的og標題。',
  response: '字數保持在 60 字元，標題應該明確反映頁面的內容或主題，讓用戶一目了然，應避免過於冗長和含糊不清的表述。如果適合，可以在標題中包含品牌名稱，特別是當品牌影響力強時，這有助於提高用戶的信任感。',
})
// export const ogDescriptionMessage = `產生 og 敘述的欄位內容。結合一般 SEO 的規範和商品規格，產出符合規格的 og 敘述。直接輸出敘述即可。`
export const ogDescriptionMessage = createUserMessage({
  title: 'OG敘述',
  content: '結合一般og的規範和商品規格，產出符合規格的og敘述。',
  response: '字數保持在 120 - 150 字元內。用簡潔的語言總結頁面或內容的核心價值，告訴用戶這篇內容的「意義」或「亮點」是什麼。不要讓敘述含糊不清或過於籠統，應直接讓用戶知道「為什麼這個內容值得點擊」。敘述的開頭應引發用戶興趣，因為許多社交平台（如 Facebook 和 Twitter）會在截斷部分後加上「...」，因此將重要信息放在開頭。',
})
export const detailMessage = createUserMessage({
  title: '商品描述',
  content: '產出大約一百字左右的符合規格的商品詳細介紹。',
  response: `
1. 清晰直接
簡明扼要：避免過度冗長，用簡短有力的語言表達商品的核心亮點。
標題：使用清晰的標題和子標題分層結構，便於用戶掃描和快速理解。
2. 強調產品賣點
聚焦 USP（獨特賣點）：突出產品的關鍵特點，回答「這產品有什麼特別之處？為什麼我要買？」
與競品對比：可簡要提及產品的優勢（但避免直接貶低競品）。
3. 使用用戶視角撰寫
解決痛點：將商品描述與顧客的需求或問題對接。說明產品如何能幫他們解決特定問題。
價值導向：更多地關注產品的價值，少用技術性詞彙。從「功能」轉向「益處」的描述，例如：「高效的處理器使您在工作和遊戲中更快速流暢」。
4. 融入情感共鳴
描述應用場景：幫助顧客想像使用商品時的情境，例如：「在夏日的陽光下，穿上這雙輕便的鞋子，陪你探索每個小鎮風景。」
講故事：講述產品如何形成、背後的設計理念或靈感來源，提升情感拉動。
5. 避免模糊和誇大
誠實可靠：避免過度使用模糊且不可信的形容詞（如「世界上最好」）。
數據支持：盡量用數據和第三方認證來支持賣點（如「經測試耐用度提高 30%」、「獲得多項國際設計獎」）。
  `,
})
